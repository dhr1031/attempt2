jQuery(document).ready(function(s){var a=awsmJobsAdminOverview.analytics_data&&"data"in awsmJobsAdminOverview.analytics_data&&0<awsmJobsAdminOverview.analytics_data.data.length,o=("undefined"!=typeof awsmJobsOverview&&"renderAnalyticsChart"in awsmJobsOverview&&"function"==typeof awsmJobsOverview.renderAnalyticsChart&&a?s("#awsm-jobs-overview-analytics-chart-control").on("change",function(){var a=s(this).find("option:selected").val(),a=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_overview_analytics_widget_option",value:a},{name:"action",value:"awsm_jobs_overview_applications_analytics_data"}];s.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",beforeSend:function(){s("#awsm-jobs-overview-applications-analytics .awsm-jobs-overview-chart-wrapper").addClass("awsm-jobs-overview-chart-loading"),s("#awsm-jobs-overview-applications-analytics #awsm-jobs-overview-analytics-chart-control").prop("disabled",!0)},data:s.param(a),dataType:"json"}).done(function(a){a&&(a={labels:(a=a.data).labels,data:a.data},awsmJobsOverview.renderAnalyticsChart(!1,a))}).always(function(){s("#awsm-jobs-overview-applications-analytics .awsm-jobs-overview-chart-wrapper").removeClass("awsm-jobs-overview-chart-loading"),s("#awsm-jobs-overview-applications-analytics #awsm-jobs-overview-analytics-chart-control").prop("disabled",!1)})}):s("#awsm-jobs-overview-applications-analytics #awsm-jobs-overview-analytics-chart-control").prop("disabled",!0),s("#awsm-jobs-overview-applications-by-status-chart")),t={labels:awsmProJobsAdminOverview.applications_by_status_data.labels,datasets:[{label:awsmJobsAdminOverview.i18n.chart_label,data:awsmProJobsAdminOverview.applications_by_status_data.data,backgroundColor:awsmProJobsAdminOverview.applications_by_status_data.colors,hoverOffset:4,borderColor:"#fff",hoverBorderWidth:0}]},e={layout:{padding:{left:10,right:0}},plugins:{legend:{position:"right",labels:{padding:20,usePointStyle:!0}},datalabels:{color:"#fff",font:{size:14,weight:"bold"},formatter:function(a,s){s=s.chart.getDatasetMeta(0).total;return 0<a?parseFloat((a/s*100).toFixed(2))+"%":""}}}},i=null;function n(a){(a=void 0!==a&&a)&&i&&(i.destroy(),i=null),i=i||new Chart(o,{type:"doughnut",data:t,options:e,plugins:[ChartDataLabels]})}awsmProJobsAdminOverview.applications_by_status_data&&"total_applications"in awsmProJobsAdminOverview.applications_by_status_data&&0<awsmProJobsAdminOverview.applications_by_status_data.total_applications&&(n(),s(".awsm-jobs-overview-mb-wrapper .meta-box-sortables").on("sortstop",function(a,s){"awsm-jobs-overview-applications-by-status"===s.item.attr("id")&&n(!0)}),s("#awsm-jobs-overview-applications-by-status .handle-order-higher, #awsm-jobs-overview-applications-by-status .handle-order-lower").on("focus",function(){n(!0)}))});