(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(l){l.extend(l.fn,{validate:function(e){var s;if(this.length)return(s=l.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),s=new l.validator(e,this[0]),l.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",function(e){s.settings.submitHandler&&(s.submitButton=e.target),l(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==l(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.validate",function(a){function e(){var e,t;return!s.settings.submitHandler||(s.submitButton&&(e=l("<input type='hidden'/>").attr("name",s.submitButton.name).val(l(s.submitButton).val()).appendTo(s.currentForm)),t=s.settings.submitHandler.call(s,s.currentForm,a),s.submitButton&&e.remove(),void 0!==t&&t)}return s.settings.debug&&a.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,e()):s.form()?s.pendingRequest?!(s.formSubmitted=!0):e():(s.focusInvalid(),!1)}))),s;e&&e.debug&&window.console},valid:function(){var e,t,a;return l(this[0]).is("form")?e=this.validate().form():(a=[],e=!0,t=l(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(a=a.concat(t.errorList))}),t.errorList=a),e},rules:function(e,t){if(this.length){var a,s,i,n,o,r=this[0];if(e)switch(s=(a=l.data(r.form,"validator").settings).rules,i=l.validator.staticRules(r),e){case"add":l.extend(i,l.validator.normalizeRule(t)),delete i.messages,s[r.name]=i,t.messages&&(a.messages[r.name]=l.extend(a.messages[r.name],t.messages));break;case"remove":return t?(o={},l.each(t.split(/\s/),function(e,t){o[t]=i[t],delete i[t],"required"===t&&l(r).removeAttr("aria-required")}),o):(delete s[r.name],i)}return(e=l.validator.normalizeRules(l.extend({},l.validator.classRules(r),l.validator.attributeRules(r),l.validator.dataRules(r),l.validator.staticRules(r)),r)).required&&(n=e.required,delete e.required,e=l.extend({required:n},e),l(r).attr("aria-required","true")),e.remote&&(n=e.remote,delete e.remote,e=l.extend(e,{remote:n})),e}}}),l.extend(l.expr[":"],{blank:function(e){return!l.trim(""+l(e).val())},filled:function(e){e=l(e).val();return null!==e&&!!l.trim(""+e)},unchecked:function(e){return!l(e).prop("checked")}}),l.validator=function(e,t){this.settings=l.extend(!0,{},l.validator.defaults,e),this.currentForm=t,this.init()},l.validator.format=function(a,e){return 1===arguments.length?function(){var e=l.makeArray(arguments);return e.unshift(a),l.validator.format.apply(this,e)}:(void 0!==e&&((e=2<arguments.length&&e.constructor!==Array?l.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),l.each(e,function(e,t){a=a.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),a)},l.extend(l.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:l([]),errorLabelContainer:l([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==l.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,a){("radio"===e.type?this.findByName(e.name):l(e)).addClass(t).removeClass(a)},unhighlight:function(e,t,a){("radio"===e.type?this.findByName(e.name):l(e)).removeClass(t).addClass(a)}},setDefaults:function(e){l.extend(l.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:l.validator.format("Please enter no more than {0} characters."),minlength:l.validator.format("Please enter at least {0} characters."),rangelength:l.validator.format("Please enter a value between {0} and {1} characters long."),range:l.validator.format("Please enter a value between {0} and {1}."),max:l.validator.format("Please enter a value less than or equal to {0}."),min:l.validator.format("Please enter a value greater than or equal to {0}."),step:l.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=l(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||l(this.currentForm),this.containers=l(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,s=this.groups={};function e(e){var t=l.data(this.form,"validator"),a="on"+e.type.replace(/^validate/,""),s=t.settings;s[a]&&!l(this).is(s.ignore)&&s[a].call(t,this,e)}l.each(this.settings.groups,function(a,e){"string"==typeof e&&(e=e.split(/\s/)),l.each(e,function(e,t){s[t]=a})}),a=this.settings.rules,l.each(a,function(e,t){a[e]=l.validator.normalizeRule(t)}),l(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&l(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),l(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),l.extend(this.submitted,this.errorMap),this.invalid=l.extend({},this.errorMap),this.valid()||l(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,a,s=this.clean(e),i=this.validationTargetFor(s),n=this,o=!0;return void 0===i?delete this.invalid[s.name]:(this.prepareElement(i),this.currentElements=l(i),(a=this.groups[i.name])&&l.each(this.groups,function(e,t){t===a&&e!==i.name&&(s=n.validationTargetFor(n.clean(n.findByName(e))))&&s.name in n.invalid&&(n.currentElements.push(s),o=o&&n.check(s))}),t=!1!==this.check(i),o=o&&t,this.invalid[i.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),l(e).attr("aria-invalid",!t)),o},showErrors:function(t){var a;t&&(l.extend((a=this).errorMap,t),this.errorList=l.map(this.errorMap,function(e,t){return{message:e,element:a.findByName(t)[0]}}),this.successList=l.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){l.fn.resetForm&&l(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)e[t]&&a++;return a},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{l(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===l.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return l(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||l(this).attr("name");return!e&&t.settings.debug&&window.console,this.hasAttribute("contenteditable")&&(this.form=l(this).closest("form")[0]),!(e in a||!t.objectLength(l(this).rules()))&&(a[e]=!0)})},clean:function(e){return l(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return l(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=l([]),this.toHide=l([])},reset:function(){this.resetInternals(),this.currentElements=l([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=l(e),a=e.type;return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(e=e.hasAttribute("contenteditable")?t.text():t.val(),"file"===a?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(t=e.lastIndexOf("/"))||0<=(t=e.lastIndexOf("\\"))?e.substr(t+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,a,s,i=l(t).rules(),n=l.map(i,function(e,t){return t}).length,o=!1,r=this.elementValue(t);if("function"==typeof i.normalizer){if("string"!=typeof(r=i.normalizer.call(t,r)))throw new TypeError("The normalizer should return a string value.");delete i.normalizer}for(a in i){s={method:a,parameters:i[a]};try{if("dependency-mismatch"===(e=l.validator.methods[a].call(this,r,t,s.parameters))&&1===n)o=!0;else{if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,s),!1}}catch(e){throw this.settings.debug&&window.console,e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+s.method+"' method."),e}}if(!o)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(e,t){return l(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||l(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var a=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,l.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof a?a=a.call(this,t.parameters,e):s.test(a)&&(a=l.validator.format(a.replace(s,"{$1}"),t.parameters)),a},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t);this.errorList.push({message:a,element:e,method:t.method}),this.errorMap[e.name]=a,this.submitted[e.name]=a},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,a=0;this.errorList[a];a++)t=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,e=this.validElements();e[a];a++)this.settings.unhighlight.call(this,e[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return l(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var a,s,i,n=this.errorsFor(e),o=this.idOrName(e),r=l(e).attr("aria-describedby");n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(t)):(s=n=l("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(s=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement(s,l(e)):s.insertAfter(e),n.is("label")?n.attr("for",o):0===n.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(s=n.attr("id"),r?r.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(r+=" "+s):r=s,l(e).attr("aria-describedby",r),a=this.groups[e.name])&&l.each((i=this).groups,function(e,t){t===a&&l("[name='"+i.escapeCssMeta(e)+"']",i.currentForm).attr("aria-describedby",n.attr("id"))})),!t&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=l(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),l(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return l(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return l("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!l(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!l.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,l(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],l(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(l(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(l(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return l.data(e,"previousValue")||l.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),l(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:l.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=l(e).attr("class");return e&&l.each(e.split(" "),function(){this in l.validator.classRuleSettings&&l.extend(t,l.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,a,s){(s=/min|max|step/.test(a)&&(null===t||/number|range|text/.test(t))&&(s=Number(s),isNaN(s))?void 0:s)||0===s?e[a]=s:t===a&&"range"!==t&&(e[a]=!0)},attributeRules:function(e){var t,a,s={},i=l(e),n=e.getAttribute("type");for(t in l.validator.methods)a="required"===t?!!(a=""===(a=e.getAttribute(t))?!0:a):i.attr(t),this.normalizeAttributeRule(s,n,t,a);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var t,a,s={},i=l(e),n=e.getAttribute("type");for(t in l.validator.methods)a=i.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(s,n,t,a);return s},staticRules:function(e){var t={},a=l.data(e.form,"validator");return t=a.settings.rules?l.validator.normalizeRule(a.settings.rules[e.name])||{}:t},normalizeRules:function(s,i){return l.each(s,function(e,t){if(!1===t)delete s[e];else if(t.param||t.depends){var a=!0;switch(typeof t.depends){case"string":a=!!l(t.depends,i.form).length;break;case"function":a=t.depends.call(i,i)}a?s[e]=void 0===t.param||t.param:(l.data(i.form,"validator").resetElements(l(i)),delete s[e])}}),l.each(s,function(e,t){s[e]=l.isFunction(t)&&"normalizer"!==e?t(i):t}),l.each(["minlength","maxlength"],function(){s[this]&&(s[this]=Number(s[this]))}),l.each(["rangelength","range"],function(){var e;s[this]&&(l.isArray(s[this])?s[this]=[Number(s[this][0]),Number(s[this][1])]:"string"==typeof s[this]&&(e=s[this].replace(/[\[\]]/g,"").split(/[\s,]+/),s[this]=[Number(e[0]),Number(e[1])]))}),l.validator.autoCreateRanges&&(null!=s.min&&null!=s.max&&(s.range=[s.min,s.max],delete s.min,delete s.max),null!=s.minlength)&&null!=s.maxlength&&(s.rangelength=[s.minlength,s.maxlength],delete s.minlength,delete s.maxlength),s},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},l.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,a){l.validator.methods[e]=t,l.validator.messages[e]=void 0!==a?a:l.validator.messages[e],t.length<3&&l.validator.addClassRules(e,l.validator.normalizeRule(e))},methods:{required:function(e,t,a){return this.depend(a,t)?"select"===t.nodeName.toLowerCase()?(a=l(t).val())&&0<a.length:this.checkable(t)?0<this.getLength(e,t):0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,a){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||a<=e},maxlength:function(e,t,a){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=a},rangelength:function(e,t,a){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=a[0]&&e<=a[1]},min:function(e,t,a){return this.optional(t)||a<=e},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},step:function(e,t,a){var s=l(t).attr("type"),i="Step attribute on input type "+s+" is not supported.",n=new RegExp("\\b"+s+"\\b");if(s&&!n.test(["text","number","range"].join()))throw new Error(i);return this.optional(t)||e%a==0},equalTo:function(e,t,a){a=l(a);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){l(t).valid()}),e===a.val()},remote:function(s,i,e,n){if(this.optional(i))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var o,t,r=this.previousValue(i,n);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=r.originalMessage||this.settings.messages[i.name][n],this.settings.messages[i.name][n]=r.message,t=l.param(l.extend({data:s},(e="string"==typeof e?{url:e}:e).data)),r.old===t?r.valid:(r.old=t,(o=this).startRequest(i),(t={})[i.name]=s,l.ajax(l.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:t,context:o.currentForm,success:function(e){var t,a=!0===e||"true"===e;o.settings.messages[i.name][n]=r.originalMessage,a?(t=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=t,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(t={},e=e||o.defaultMessage(i,{method:n,parameters:s}),t[i.name]=r.message=e,o.invalid[i.name]=!0,o.showErrors(t)),r.valid=a,o.stopRequest(i,a)}},e)),"pending")}}});var a,i={};l.ajaxPrefilter?l.ajaxPrefilter(function(e,t,a){var s=e.port;"abort"===e.mode&&(i[s]&&i[s].abort(),i[s]=a)}):(a=l.ajax,l.ajax=function(e){var t=("mode"in e?e:l.ajaxSettings).mode,e=("port"in e?e:l.ajaxSettings).port;return"abort"===t?(i[e]&&i[e].abort(),i[e]=a.apply(this,arguments),i[e]):a.apply(this,arguments)})}),jQuery(document).ready(function(D){var o=D("#awsm-pro-application-id").val(),r=(D(".awsm-applicant-meta-mail-container").on("click",".awsm-jobs-applicant-mail-header",function(){D(this).parent().toggleClass("open")}),D("ul.awsm-applicant-meta-mail-tabs a").on("click",function(e){e.preventDefault();var t,e=D(this);e.closest("li").hasClass("tabs")||(t=e.attr("href"),D("ul.awsm-applicant-meta-mail-tabs li").removeClass("tabs"),e.closest("li").addClass("tabs"),D(".awsm-applicant-meta-mail-tabs-panel").hide(),D(t).fadeIn())}),D(".awsm-settings-tab-wrapper").css("visibility","visible"),D(".awsm-job-form-builder-container")),l=new RegExp("^([a-z0-9]+(-|_))*[a-z0-9]+$"),e=(0<D("#awsm-job-form-builder-container-default").length&&D("#delete-action").remove(),D("#awsm-jobs-form-builder").sortable({items:".awsm-jobs-form-element-main",axis:"y",handle:".awsm-jobs-form-element-head",cursor:"grabbing"}),r.on("click",".awsm-jobs-form-element-head-title",function(){D(this).parents(".awsm-jobs-form-element-main").toggleClass("open")}),r.on("click",".awsm-jobs-form-element-close",function(){D(this).parents(".awsm-jobs-form-element-main").removeClass("open")}),r.parents("#post").on("submit",function(e){var t,a,s,i,n;r.is(":visible")&&(i=!0,t=r.find(".awsm-jobs-form-builder-footer"),D(".awsm-jobs-error-container").remove(),a={resume:[],photo:[]},D(".awsm-builder-field-select-control").each(function(e){var t=D(this).val();"resume"!==t&&"photo"!==t||a[t].push(e)}),s=wp.template("awsm-pro-fb-error"),(1<a.resume.length||1<a.photo.length)&&(i=!1,n="",1<a.resume.length&&(n+=s({isFieldType:!0,fieldType:"resume"})),1<a.photo.length&&(n+=s({isFieldType:!0,fieldType:"photo"})),t.append(n)),D(".awsm-jobs-form-builder-template-tag").each(function(){var e=D(this).val();0<e.length&&!l.test(e)&&(i=!1,t.append(s({invalidKey:!0})))}),i||(e.preventDefault(),D("html, body").animate({scrollTop:t.offset().top},600)))}),r.on("click",".awsm-add-form-field-row",function(e){e.preventDefault();var e=D("#awsm-jobs-form-builder"),t=e.data("next"),a=wp.template("awsm-pro-fb-settings"),s={index:t};e.data("next",t+1),e.append(a(s))}),r.on("change",".awsm-builder-field-select-control",function(){var e=D(this),t=e.parents(".awsm-jobs-form-element-content"),a=e.val(),s=e.data("index"),i=e.find(":selected").data("repeater"),s=void 0!==s?s:0,n=null,e=e.parents(".awsm-jobs-form-builder-type-wrapper").find(".awsm-job-fb-options-container"),i=("select"===a||"checkbox"===a||"radio"===a?(n=wp.template("awsm-pro-fb-field-options"),e.html(n({index:s})),e.removeClass("hidden")):"file"===a||"photo"===a||"resume"===a?(n=wp.template("awsm-pro-fb-file-options"),e.html(n({index:s,fieldType:a})),e.removeClass("hidden")):"section"===a?(n=wp.template("awsm-pro-fb-section-field-options"),e.html(n({index:s,fieldType:a})),e.removeClass("hidden")):"tel"===a?(n=wp.template("awsm-pro-fb-iti-options"),e.html(n({index:s,fieldType:a})),e.removeClass("hidden")):(e.html(""),e.addClass("hidden")),"section"===a||!0===i?("section"===a?t.find(".awsm-job-fb-label-wrapper").addClass("hidden").find("input").prop("required",!1):t.find(".awsm-job-fb-label-wrapper").removeClass("hidden").find("input").prop("required",!0),t.find(".awsm-job-fb-required-wrapper").addClass("hidden")):(t.find(".awsm-job-fb-label-wrapper").removeClass("hidden").find("input").prop("required",!0),t.find(".awsm-job-fb-required-wrapper").removeClass("hidden")),e=t.find(".awsm-job-fb-template-key"),"resume"===a||"photo"===a||"file"===a||"section"===a?(e.html(""),e.addClass("hidden")):(n=wp.template("awsm-pro-fb-template-tag"),e.html(n({index:s})),e.removeClass("hidden")),t.find(".awsm-job-fb-placeholder-option"));"text"===a||"email"===a||"number"===a||"tel"===a||"textarea"===a?(n=wp.template("awsm-pro-fb-placeholder-field-options"),i.html(n({index:s})),i.removeClass("hidden")):(i.html(""),i.addClass("hidden"))}),r.on("change",".awsm-jobs-form-builder-iti-control",function(){var e=D(this),t=e.parent("p").next(".awsm-jobs-form-builder-iti-default-wrapper");e.is(":checked")?t.removeClass("hidden"):t.addClass("hidden")}),r.on("click",".awsm-form-field-remove-row",function(e){e.preventDefault(),D(this).parents(".awsm-jobs-form-element-main").remove()}),r.on("keyup blur",".awsm_jobs_form_builder_new_label",function(){var e=D(this),t=e.val(),e=e.parents(".awsm-jobs-form-element-content");0<t.length&&(t=D.trim(t).replace(/\s+/g,"-").toLowerCase(),l.test(t))&&e.find(".awsm-jobs-form-builder-template-tag").val(t)}),D('.post-type-awsm_job_form #publishing-action input[type="submit"]').on("click",function(){var e=D("form#post");!1===e.get(0).checkValidity()?(D(".awsm-jobs-form-builder-error").removeClass("awsm-hidden"),e.find(".awsm-jobs-form-element-main").addClass("open")):D(".awsm-jobs-form-builder-error").addClass("awsm-hidden")}),D("#awsm-builder-form-options-container")),m=(e.on("click",".awsm-jobs-forms-list-actions .awsm-jobs-forms-list-duplicate-action",function(e){e.preventDefault();var a=D(this).parents("tr"),t=a.parents(".awsm-jobs-forms-list-table"),e=a.data("id");t.hasClass("awsm-jobs-fb-actions-in-progress")||(t.addClass("awsm-jobs-fb-actions-in-progress"),e=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_form_id",value:e},{name:"awsm_fb_action",value:"duplicate"},{name:"action",value:"awsm_jobs_form_builder_actions"}],D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),dataType:"json"}).done(function(e){var t;e&&"duplicate"in e&&"data"in e&&(e=e.data,t=wp.template("awsm-pro-fb-actions"),e={id:e.id,title:e.title,status:e.status,statusText:e.status_text,editLink:e.edit_link,fieldsCount:e.fields_count},a.after(t(e)))}).always(function(){t.removeClass("awsm-jobs-fb-actions-in-progress")}))}),e.on("click",".awsm-jobs-forms-list-actions .awsm-jobs-forms-list-delete-action",function(e){e.preventDefault();var t=D(this).parents("tr"),a=t.parents(".awsm-jobs-forms-list-table"),e=t.data("id");window.confirm(awsmProJobsAdmin.i18n.delete_confirmation)&&(a.addClass("awsm-jobs-fb-actions-in-progress"),e=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_form_id",value:e},{name:"awsm_fb_action",value:"delete"},{name:"action",value:"awsm_jobs_form_builder_actions"}],D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),dataType:"json"}).done(function(e){e&&"delete"in e&&e.delete&&t.remove()}).always(function(){a.removeClass("awsm-jobs-fb-actions-in-progress")}))}),D("#settings-awsm-settings-form").on("click",".awsm-nav-subtab",function(e){e.preventDefault(),"awsm-builder-form-nav-subtab"===D(this).attr("id")?D(e.delegateTarget).find('.awsm-form-footer input[type="submit"]').addClass("awsm-hidden"):D(e.delegateTarget).find('.awsm-form-footer input[type="submit"]').removeClass("awsm-hidden")}),D(".awsm-form-notifications-switch").on("change",function(){var e=D(this),t=e.data("metakey"),a=e.val(),s=e.data("formid"),e=(e.is(":checked")||(a=""),{action:"form_notifications_switch",nonce:awsmJobsAdmin.nonce,option:t,option_value:a,form_id:s});D.ajax({url:awsmJobsAdmin.ajaxurl,data:e,type:"POST"}).fail(function(e){})}),D(".awsm-applicant-mail-message")),d="awsm-success-message",c="awsm-error-message";function u(){var e=null;return e="undefined"!=typeof tinyMCE&&(e=tinyMCE.get("awsm_mail_meta_applicant_content"))&&e.isHidden()?null:e}D("#awsm_mail_meta_applicant_template").on("change",function(){var e=D(this).val();void 0!==e&&0<e.length&&(m.hide(),D.ajax({url:awsmJobsAdmin.ajaxurl,type:"GET",data:D.param([{name:"awsm_application_id",value:o},{name:"awsm_template_key",value:e},{name:"action",value:"awsm_job_et_data"}]),dataType:"json"}).done(function(e){var t;e&&(D("#awsm_mail_meta_applicant_subject").val(e.subject),null!==(t=u())?t.setContent(e.content):D("#awsm_mail_meta_applicant_content").val(e.content))}))}),D("#awsm-applicant-meta-new-mail").on("click","#awsm_applicant_mail_btn",function(e){e.preventDefault();var t,a,s,n,i,e=D(".awsm-form-control.error");0===e.length?(m.removeClass(d+" "+c).hide(),t=D(this),a=t.text(),s=t.data("responseText"),t.prop("disabled",!0).text(s),s=D("#awsm-applicant-meta-new-mail").find(".awsm-applicant-mail-field").serializeArray(),i="",i=null!==(n=u())?n.getContent():D("#awsm_mail_meta_applicant_content").val(),s.push({name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_application_id",value:o},{name:"awsm_mail_meta_applicant_content",value:i},{name:"action",value:"awsm_applicant_mail"}),D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(s),dataType:"json"}).done(function(e){var t,a,s,i;e&&(t="awsm-default-message",a="",s=[],0<e.error.length?(t=c,s=e.error):0<e.success.length&&(D("#awsm_jobs_no_mail_wrapper").remove(),t=d,s=e.success,D("#awsm_mail_meta_applicant_template").val(null).trigger("change"),D("#awsm_mail_meta_applicant_subject").val(""),D("#awsm_mail_meta_applicant_content").val(""),null!==n&&n.setContent(""),e=e.content,i=wp.template("awsm-pro-applicant-mail"),e={author:e.author,date_i18n:e.date_i18n,subject:e.subject,content:e.content},D("#awsm-jobs-applicant-mails-container").prepend(i(e))),D(s).each(function(e,t){a+="<p>"+t+"</p>"}),m.addClass(t).html(a).fadeIn())}).always(function(){t.prop("disabled",!1).text(a)})):e.next("label.error").addClass("awsm-job-form-error")}),D(".awsm-add-mail-templates").on("click",function(e){e.preventDefault();var e=D("#awsm-repeatable-mail-templates"),t=e.data("next"),a=(e.find(".awsm-acc-head").removeClass("on"),e.find(".awsm-acc-content").slideUp("normal"),wp.template("awsm-pro-notification-settings")),s={index:t};e.find(".awsm-mail-templates-acc-section").append(a(s)),e.find('[data-required="required"]').prop("required",!0),e.data("next",t+1),"wp_editor_settings"in awsmProJobsAdmin&&(a=wp.editor.getDefaultSettings(),s=D.extend({},a.tinymce,awsmProJobsAdmin.wp_editor_settings.tinymce),wp.editor.initialize("awsm-jobs-pro-mail-content-"+t,{mediaButtons:!0,tinymce:s,quicktags:awsmProJobsAdmin.wp_editor_settings.quicktags}))}),D("#awsm-repeatable-mail-templates").on("click",".awsm-remove-mail-template",function(e){e.preventDefault(),D(this).parents(".awsm-acc-main").remove()}),D("#awsm-repeatable-mail-templates").on("keyup blur",".awsm-jobs-pro-mail-template-name",function(){var e=D(this),t=e.val(),e=e.parents(".awsm-acc-main"),a=e.find(".awsm-jobs-pro-mail-template-title"),t=0<t.length?t:a.text();a.text(t),e.find(".awsm-jobs-pro-mail-template-subtitle").fadeIn()});var i={"а":"a","А":"a","б":"b","Б":"B","в":"v","В":"V","ґ":"g","г":"g","Г":"G","д":"d","Д":"D","е":"e","Е":"E","є":"ye","э":"e","Э":"E","и":"i","і":"i","ї":"yi","й":"i","И":"I","Й":"I","к":"k","К":"K","л":"l","Л":"L","м":"m","М":"M","н":"n","Н":"N","о":"o","О":"O","п":"p","П":"P","р":"r","Р":"R","с":"s","С":"S","т":"t","Т":"T","у":"u","У":"U","ф":"f","Ф":"F","х":"h","Х":"H","ц":"c","ч":"ch","Ч":"CH","ш":"sh","Ш":"SH","щ":"sch","Щ":"SCH","ж":"zh","Ж":"ZH","з":"z","З":"Z","Ъ":"'","ь":"'","ъ":"'","Ь":"'","ы":"i","Ы":"I","ю":"yu","Ю":"YU","я":"ya","Я":"Ya","ё":"yo","Ё":"YO","Ц":"TS"};function t(e,t){t=void 0===t||t;var a,s=e.val(),e=e.parents(".awsm-row");0<s.length&&(a=t?15:20,s=(s=s.trim().replace(/[\s-]+/g,"-").toLowerCase()).split("").map(function(e){return e in i?i[e]:e}).join("").substring(0,a),l.test(s=t?"appl-"+s:s))&&e.find(".awsm-jobs-manage-application-status-key-new").val(s)}D("#settings-awsm-settings-manage-status").sortable({items:".awsm-acc-main-sortable-item",axis:"y",handle:".awsm-acc-drag-control",cursor:"grabbing"}),D("#settings-awsm-settings-manage-status").on("click",".awsm-add-application-status",function(e){e.preventDefault();var e=D("#awsm-repeatable-application-status"),t=e.data("next"),a=(e.find(".awsm-acc-head").removeClass("on"),e.find(".awsm-acc-content").slideUp("normal"),wp.template("awsm-manage-application-status-settings")),s={index:t};e.find(".awsm-application-status-acc-section").append(a(s)),D("#awsm-jobs-manage-application-status-key-"+t).parents(".awsm-row").find(".awsm-jobs-manage-application-status-key").addClass("awsm-jobs-manage-application-status-key-new"),e.data("next",t+1),e.find(".awsm-acc-main").last().find(".awsm-jobs-colorpicker-field").wpColorPicker()}),D("#awsm-repeatable-application-status").on("change",".awsm-jobs-manage-application-mail-on-status",function(){var e=D(this),t=e.parents(".awsm-acc-content").find(".awsm-jobs-status-mail-template-group");e.is(":checked")?(t.removeClass("awsm-hide"),t.find(".awsm-jobs-manage-application-mail-template").prop("required",!0)):(t.addClass("awsm-hide"),t.find(".awsm-jobs-manage-application-mail-template").prop("required",!1))}),D(".awsm-job-settings-advaced-container").on("keyup blur",".awsm-jobs-manage-application-status-label",function(){t(D(this))}),D(".awsm-job-settings-advaced-container").on("keyup blur",".awsm-jobs-manage-application-status-key-new",function(){t(D(this),!1)}),D("#awsm_application_notes").on("keypress",function(e){var a;13==e.which&&(e.preventDefault(),e=D(this).val(),a=e,0<(a=D.trim(a)).length)&&(e=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_application_id",value:o},{name:"awsm_application_notes",value:a},{name:"action",value:"awsm_job_pro_notes"}],D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),beforeSend:function(){D("#awsm_application_notes").prop("disabled",!0),D(".awsm-jobs-application-notes-list").addClass("awsm-jobs-loading")},dataType:"json"}).done(function(e){var t;e&&!0===e.update&&(e=e.notes_data,t=wp.template("awsm-pro-notes"),e={index:e.index,time:e.time,date_i18n:e.date_i18n,author:e.username,content:a},D(".awsm-jobs-application-notes-list").prepend(t(e)),D("#awsm_application_notes").val(""))}).always(function(){D(".awsm-jobs-application-notes-list").removeClass("awsm-jobs-loading"),D("#awsm_application_notes").prop("disabled",!1)}))});var p,s,n,h,f=!0,a=(D(".awsm-jobs-application-notes-list").on("click",".awsm-jobs-note-remove-btn",function(e){e.preventDefault();var t=D(this).parents("li.awsm-jobs-note"),e=t.data("index"),a=t.data("time");f&&(f=!1,e=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_application_id",value:o},{name:"awsm_note_key",value:e},{name:"awsm_note_time",value:a},{name:"action",value:"awsm_job_pro_remove_note"}],D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),beforeSend:function(){D(".awsm-jobs-application-notes-list").addClass("awsm-jobs-loading")},dataType:"json"}).done(function(e){e&&!0===e.delete&&t.slideUp(function(){D(this).remove();var e=D("li.awsm-jobs-note"),t=e.length;e.each(function(e){e=t-(e+1);D(this).data("index",e),D(this).attr("data-index",e)}),f=!0})}).fail(function(){f=!0}).always(function(){D(".awsm-jobs-application-notes-list").removeClass("awsm-jobs-loading")}))}),D(".awsm-jobs-export-wrapper .awsm-jobs-error-container")),w=(0<a.length&&(e=D("#awsm-jobs-export-applications form").attr("action"),window.history.replaceState({},"",e),a.delay(2e3).fadeOut("slow",function(){a.remove()})),D(".awsm-application-export-by-toggle-control").on("change",function(){var e=D(this).val();D(".awsm-application-export-by-row").addClass("awsm-hide"),D(".awsm-application-export-by-"+e+"-row").removeClass("awsm-hide"),"application-form"===e?D("#awsm-jobs-export-applications #awsm-job-id").prop("required",!1):D("#awsm-jobs-export-applications #awsm-job-id").prop("required",!0)}),D(".awsm-jobs-export-wrapper .awsm-jobs-export-button").on("click",function(e){var t=D(this).parents("form");0<t.find(".awsm-jobs-error-container").length&&(e.preventDefault(),t.find(".awsm-jobs-error-container").fadeOut("slow"),e=t.attr("action"),window.history.replaceState({},"",e),t.get(0).submit())}),D('.awsm-jobs-export-wrapper input[name="awsm_date_from"]').first().attr("max"));D(".awsm-jobs-export-wrapper").on("change",'input[name="awsm_date_to"]',function(e){var t=D(this).val(),a=new Date(t).getTime(),e=D(e.delegateTarget).find('input[name="awsm_date_from"]');0<t.length?e.prop("required",!0):e.prop("required",!1),isNaN(a)?e.attr("max",w):e.attr("max",t)}),D(".awsm-jobs-export-wrapper").on("change",'input[name="awsm_date_from"]',function(e){var t=D(this).val(),a=new Date(t).getTime(),e=D(e.delegateTarget).find('input[name="awsm_date_to"]');0<t.length?e.prop("required",!0):e.prop("required",!1),isNaN(a)?e.removeAttr("min"):e.attr("min",t)}),D(".awsm-shortcodes-filters-select-control").awsmSelect2({tags:!0,tokenSeparators:[","],theme:"awsm-job",dropdownCssClass:"awsm-select2-dropdown-control",createTag:function(){return null}}),D("#settings-awsm-settings-shortcodes").on("change",".awsm-shortcodes-filter-item .awsm-check-toggle-control",function(){var e=D(".awsm-shortcodes-filter-item .awsm-check-toggle-control").length,t=D(".awsm-shortcodes-filter-item .awsm-check-toggle-control:checked").length;0<t&&t<e?D("#awsm-jobs-other-filters-container").removeClass("awsm-hide"):(D("#awsm-jobs-other-filters-container").addClass("awsm-hide"),D("#awsm_jobs_enable_other_filters").prop("checked",!1))}),D("#settings-awsm-settings-shortcodes").on("change",".awsm-shortcodes-job-listing-control",function(){var e=D("#awsm-jobs-enable-filters-container");D("#awsm_jobs_listing_all").is(":checked")?e.removeClass("awsm-hide"):e.addClass("awsm-hide")}),D("#settings-awsm-settings-shortcodes").on("click",".awsm-nav-subtab",function(){D(".awsm-settings-shortcodes-aside").addClass("awsm-hide"),D("#awsm-copy-clip").addClass("awsm-hide")}),D("#settings-awsm-settings-shortcodes").on("change","#awsm_jobs_orderby",function(){"rand"===D(this).val()?D(".awsm-shortcodes-job-order-control").parents("tr").addClass("awsm-hide"):D(".awsm-shortcodes-job-order-control").parents("tr").removeClass("awsm-hide")}),D("#settings-awsm-settings-shortcodes").on("click","#awsm-jobs-generate-shortcode",function(){var e,t,a,s,i,n,o,r,l=D("#settings-awsm-settings-shortcodes").find(".awsm-nav-subtab.current"),m=l.data("target");0<(m=D(m)).length&&(e=l.text().trim().toLowerCase().replace(/\s+/g,"_"),t="["+(m=m.find('[data-section="'+l.get(0).id+'"]').data("type")),"awsm_application_form"===m||"awsmjob_specs"===m?(""!==(l=D("#awsm-jobs-"+e+"-shortcodes-container .awsm-shortcodes-select-job-control").val())?(D(".awsm-settings-shortcodes-aside").removeClass("awsm-hide"),D("#awsm-copy-clip").removeClass("awsm-hide")):(D(".awsm-settings-shortcodes-aside").addClass("awsm-hide"),D("#awsm-copy-clip").addClass("awsm-hide")),t+=void 0!==l&&l?' id="'+l+'"':""):"awsmjobs_stats"===m?(""!=(l=D(".awsm-shortcodes-jobs-stats-control:checked").val())?(D(".awsm-settings-shortcodes-aside").removeClass("awsm-hide"),D("#awsm-copy-clip").removeClass("awsm-hide")):(D(".awsm-settings-shortcodes-aside").addClass("awsm-hide"),D("#awsm-copy-clip").addClass("awsm-hide")),t+=void 0!==l&&l&&"default"!==l?' status="'+l+'"':""):(D(".awsm-settings-shortcodes-aside").removeClass("awsm-hide"),D("#awsm-copy-clip").removeClass("awsm-hide"),m=D("#awsm_jobs_enable_filters:checked").val(),l=D("#awsm_jobs_listings").val(),a=D(".awsm-shortcodes-job-status-control:checked").val(),s=D("#awsm_jobs_orderby").val(),i=D(".awsm-shortcodes-job-order-control:checked").val(),n=D("#awsm_jobs_pagination:checked").val(),(o=D("#awsm_jobs_listing_filtered").is(":checked"))?D("#awsm_jobs_enable_other_filters").is(":checked")&&(t+=' filters="partial"'):t+=void 0===m||"yes"!==m?' filters="no"':"",t=(t=(t+=void 0!==l&&0<parseInt(l,10)?' listings="'+parseInt(l,10)+'"':"")+(void 0!==a&&"default"!==a?' status="'+a+'"':"")+(void 0!==s&&"date"!==s?' orderby="'+s+'"':""))+(void 0!==i&&"DESC"!==i?' order="'+i+'"':"")+(void 0===n||"yes"!==n?' loadmore="no"':""),o&&(r=[],D(".awsm-shortcodes-filters-select-control").each(function(){var e=D(this),t=e.val(),a=e.data("filter"),e=e.parents(".awsm-shortcodes-filter-item").find(".awsm-check-toggle-control:checked").val();null!==t&&void 0!==a&&"yes"===e&&r.push(a+":"+t.join(" "))}),0<r.length)&&(t+=' specs="'+r.join(",")+'"'))),t+="]",D("#awsmp-jobs-"+e+"-prev-value").val(t),D(".awsm-settings-shortcodes-wrapper code").text(t),D("#awsm-copy-clip").attr("data-clipboard-text",t)}),D(".awsm-pro-application-form-section").on("change","#awsm-pro-application-form",function(e){e.preventDefault();var t=D(this).val(),e=D(e.delegateTarget);e.find(".awsm-pro-application-form-option :input").val("").prop("required",!1),e.find(".awsm-wpjo-form-group").removeClass("awsm-last-visible-group"),e.find(".awsm-pro-application-form-option").parent(".awsm-wpjo-form-group").addClass("awsm-hide"),"custom_form"!==t&&"custom_button"!==t||((t=e.find(".awsm-pro-application-form-option-"+t)).find(":input").prop("required",!0),t.parent(".awsm-wpjo-form-group").removeClass("awsm-hide")),e.find(".awsm-wpjo-form-group:visible:last").addClass("awsm-last-visible-group")}),D(".awsm-pro-form-submit-confirmation-section").on("change","#awsm-pro-form-submit-confirmation-type",function(e){e.preventDefault();e=D(this).val();D(".awsm-form-submit-confirmation-option").addClass("awsm-hide").find("input,textarea,select").attr("required",!1),D("#awsm-form-submit-confirmation-option-"+e).removeClass("awsm-hide").find("input,textarea,select").attr("required",!0)}),D(".awsm-applicant-print-control").click(function(e){e.preventDefault();var l=D(this),R=(l.prop("disabled",!0),D(".awsm-applicant-print-message").addClass("awsm-hidden"),D(this).data("action")),e=D(this).data("application"),e=[{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"awsm_application_id",value:e},{name:"action",value:"awsm_job_print_data"}];D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),dataType:"json"}).done(function(k){function a(e,s,i){var e=0===e?'<svg width="21" height="19" viewBox="0 0 21 19" xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="xMinYMin"><path fill="#FFFFFF" fill-rule="evenodd" stroke="#BDC4CC" d="M94.5,1.12977573 L91.7461602,6.70966466 L85.5883871,7.60444146 L90.0441936,11.9477793 L88.9923204,18.0806707 L94.5,15.1851121 L100.00768,18.0806707 L98.9558064,11.9477793 L103.411613,7.60444146 L97.2538398,6.70966466 L94.5,1.12977573 Z" transform="translate(-84)"></path></svg>':'<svg width="21" height="19" viewBox="0 0 21 19" xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="xMinYMin"><path fill="#FFCD00" fill-rule="evenodd" d="M52.5 15.75L46.328 18.995 47.507 12.122 42.514 7.255 49.414 6.253 52.5 0 55.586 6.253 62.486 7.255 57.493 12.122 58.672 18.995z" transform="translate(-42)"></path></svg>',e=new Blob([e],{type:"image/svg+xml"}),n=self.URL||self.webkitURL||self,o=n.createObjectURL(e),r=new Image;r.onload=function(){for(var e=document.createElement("canvas"),t=(e.width=(5*(r.width+2)-6)*s/100,e.height=r.height+4,e.getContext("2d")),a=0;a<5;a++)t.drawImage(r,2+a*r.width,2);e=e.toDataURL("image/png");"function"==typeof i&&i(e),n.revokeObjectURL(o)},r.src=o}function s(o){var e,t=o.internal.pageSize.height,a=[];for(e in k.label)"notes"!=e&&"awsm_application_id"!=e&&"awsm_application_date"!=e&&"application_status"!=e&&"awsm_apply_for"!=e&&"rating"!=e&&"awsm_job_id"!=e&&"awsm_applicant_photo"!=e&&(a[a.length]=[{text:k.label[e],type:"bold"},{text:k.value[e],type:"normal"}]);var s,i=[];for(s in k.value.notes)i[i.length]={text:k.value.notes[s].content,info:k.value.notes[s].author+", "+k.value.notes[s].date_i18n};var n,r,l,m,d,c,u=63,p=(P||(u=17),60),h=50,f=[],w=o.internal.scaleFactor,g=o.getLineHeightFactor(),v=Math.max((S*g-S*(g-1))/w,0),b=(o.setDrawColor(F),o.setLineWidth(z),q&&o.line(15,p-10,192,p-10),[]);for(c in a){for(var j in a[c]){var _=a[c][j].text,y=Array.isArray(_),C="string"==typeof _&&0===_.indexOf("{link}:"),j=((C=y?"string"==typeof _[0]&&0===_[0].indexOf("{link}:"):C)&&(y?D.each(_,function(e,t){var a=t.split(":{label}:");2===a.length&&(b[e]=a[1]),_[e]=t.replace("{link}:","")}):_=_.replace("{link}:","")),y?(n=o.splitTextToSize(b,135,{fontSize:S}),o.setFont(T,a[c][j].type),r=o.getTextDimensions(n,{fontSize:S}).h,r+=7):(n=o.splitTextToSize(_,135,{fontSize:S}),o.setFont(T,a[c][j].type),r=o.getTextDimensions(n,{fontSize:S}).h,r+=2),function(e,s,t,a){var i,n;a=void 0!==a?a:"",C?y?(i=t,D.each(e,function(e,t){var a,t=t.split(":{label}:");2===t.length&&(a=t[0].replace("{link}:",""),t=t[1],o.textWithLink(t,s,i,{url:a}),a=o.getTextDimensions(t,{fontSize:S}).h+2,i+=a)})):2===(e=e.split(":{label}:")).length&&(n=e[0].replace("{link}:",""),e=e[1],o.textWithLink(e,s,t,{url:n})):o.text(s,t,a)});t<p+r&&0===f.length&&(l=p+r-t,m=Math.ceil((l-2)/v),n.length>m)&&(d=n.length-m,f=n.splice(d)),t<=p+25||0<f.length?(j(_,u,p,n),q&&P&&o.line(58,h,58,t-5),o.addPage(),p=25,0<f.length&&(r=0,C||o.text(u,p,f),p=p+o.getTextDimensions(f,{fontSize:S}).h+2,f=[]),h=20):j(_,u,p,n),p+=r}q&&Number(c)!==a.length-1&&(P?o.line(u-5,p-2,192,p-2):o.line(15,p-2,192,p-2)),p+=v,q&&Number(c)===a.length-1&&(o.line(15,p,192,p),P)&&o.line(58,h,58,p)}if(u=15,p+=3*v,0<i.length)for(var x in t<=p+25&&(o.addPage(),p=25),f=[],o.setFontSize(S),o.setFont(T,"bold"),o.text(u,p,k.label.notes),p=p+v+7,o.setFont(T,"normal"),i)n=o.splitTextToSize(i[x].text,170,{fontSize:S}),o.setFontSize(S),o.setTextColor(L),t<p+(r=o.getTextDimensions(n,{fontSize:S}).h+3)&&0===f.length&&(l=p+r-t,m=Math.ceil((l-3)/v),n.length>m)&&(d=n.length-m,f=n.splice(d)),o.text(u,p,n),(t<=p+25||0<f.length)&&(o.addPage(),p=25,0<f.length)&&(r=0,o.text(u,p,f),p=p+o.getTextDimensions(f,{fontSize:S}).h+3,f=[]),p+=r,n=o.splitTextToSize(i[x].info,170,{fontSize:10}),o.setFontSize(10),o.setTextColor(A),o.text(u,p,n),p=p+o.getTextDimensions(n,{fontSize:10}).h+7,q&&Number(x)!==i.length-1&&o.line(u,p-7,192,p-7);"download"===R?o.save(k.value.awsm_application_id+"-"+k.value.awsm_applicant_name+".pdf"):"print"===R&&window.open(URL.createObjectURL(o.output("blob")))}var e,T,t,S,i,A,L,q,F,z,n,P,o,r;"error"in k?D(".awsm-applicant-print-message").removeClass("awsm-hidden"):(e=k.options.logo,T=k.options.font,t=k.options.title_font_size,S=k.options.font_size,i=k.options.title_color,A=k.options.subtitle_color,L=k.options.text_color,q=k.options.show_lines,F=k.options.line_color,z=k.options.line_width,window.jsPDF=window.jspdf.jsPDF,n=new jsPDF,P=!1,(r=0)<e.length&&(o=document.createElement("img"),P.crossOrigin="anonymous",o.src=e,r=25,n.addImage(o,"JPEG",15,20,20,0)),"awsm_applicant_photo"in k.value&&(-1!==(P=k.value.awsm_applicant_photo).indexOf("data:")&&-1!==P.indexOf("base64")||((P=document.createElement("img")).crossOrigin="anonymous",P.src=k.value.awsm_applicant_photo)),n.setFont(T,"bold"),n.setFontSize(t),n.setTextColor(i),n.text(15+r,25,k.value.awsm_applicant_pdf_title),P&&n.addImage(P,"JPEG",17,55,35,0),n.setFontSize(S),n.setFont(T,"normal"),n.setTextColor(A),n.text(15+r,31,k.value.awsm_application_date+k.value.awsm_application_user_ip),n.setTextColor(L),n.text(15+r,41,k.value.application_status+""),k.value.rating?a(0,100,function(e){var t=n.getCharWidthsArray(k.value.application_status+" ").reduce(function(e,t){return e+t},0)*n.internal.getFontSize()/n.internal.scaleFactor;n.addImage(e,"JPEG",15+t+r,36),a(1,Number(k.value.rating)/5*100,function(e){n.addImage(e,"JPEG",15+t+r,36),s(n)})}):s(n)),l.prop("disabled",!1)})});var g=D(".awsm-jobs-delete-status-confirm-msg p").html(),v=(D("#awsm-repeatable-application-status").on("click",".awsm-remove-application-status",function(e){e.preventDefault();var t,e=D(this),a=e.parents(".awsm-acc-main");D(".awsm-jobs-delete-status-confirm-msg").removeClass("awsm-hide"),0<(s=e.data("old-status")).length?(p=e.data("status"),e=e.data("status-label"),h=s,t=g+"<strong>'"+(n=e)+"'</strong>?",D(".awsm-jobs-continue-status-btn").attr("data-status",e),D(".awsm-jobs-continue-status-btn").attr("data-status-key",s),D(".awsm-jobs-delete-status-confirm-msg").html(t),D("#awsm-application-old-status").val(s),D("#awsm-application-new-status-label").val(e),t=[{name:"awsm_job_old_status",value:s},{name:"action",value:"awsm_job_delete_status"},{name:"nonce",value:awsmProJobsAdmin.nonce}],D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(t),beforeSend:function(){D(".awsm-job-settings-advaced-container").addClass("awsm-jobs-loading")},dataType:"json"}).done(function(e){0<e.status_count?0<e.count?(D("html").addClass("awsm-jobs-delete-status-popup-on"),D(".awsm-jobs-delete-status-modal-popup-wrapper").removeClass("awsm-hide"),D(".awsm-jobs-delete-status-continue-content-in").removeClass("awsm-hide"),D(".awsm-jobs-delete-status-confirm-content-in").addClass("awsm-hide")):(D("html").addClass("awsm-jobs-delete-status-popup-on"),D(".awsm-jobs-delete-status-modal-popup-wrapper").removeClass("awsm-hide"),D(".awsm-jobs-delete-move-status-content-in").addClass("awsm-hide"),D(".awsm-jobs-delete-status-continue-content-in").addClass("awsm-hide"),D(".awsm-jobs-delete-status-confirm-content-in").removeClass("awsm-hide")):(D("html").addClass("awsm-jobs-delete-status-popup-on"),D(".awsm-jobs-delete-status-modal-popup-wrapper").removeClass("awsm-hide"),D(".awsm-jobs-no-more-status-content-in").removeClass("awsm-hide"),D(".awsm-jobs-delete-status-confirm-msg").addClass("awsm-hide"),D(".awsm-jobs-delete-status-confirm-actions").addClass("awsm-hide"))}).fail(function(e){}).always(function(){D(".awsm-job-settings-advaced-container").removeClass("awsm-jobs-loading")})):a.slideUp(function(){a.remove()})}),D(".awsm-jobs-move-status-modal-content p").html()),b=(D(".awsm-jobs-continue-status-btn").on("click",function(e){e.preventDefault();var e=D(this),t=(D("li #awsm_application_md_status-"+h).closest("li").hide(),v+"<strong>'"+n+"'</strong>"),e=e.parents(".awsm-jobs-delete-status-continue-content-in");D(".awsm-jobs-move-status-modal-content").html(t),e.addClass("awsm-hide"),D(".awsm-jobs-delete-status-modal-popup-wrapper").find(".awsm-jobs-delete-move-status-content-in").removeClass("awsm-hide"),D(".awsm-jobs-delete-status-confirm-msg").addClass("awsm-hide")}),D(".awsm-select-status-message"));function j(e){e.preventDefault(),D(".awsm-jobs-delete-status-confirm-msg").removeClass("awsm-hide"),D(".awsm-jobs-delete-status-modal-popup-wrapper").addClass("awsm-hide"),D(".awsm-jobs-delete-move-status-content-in").addClass("awsm-hide"),D("li #awsm_application_md_status-"+h).closest("li").show(),b.fadeOut()}D(".awsm-job-status-handle").on("click",function(e){e.preventDefault();var a=D(this).data("action"),s=D("#awsm-application-old-status").val(),e=[{name:"action",value:"awsm_job_status_action"},{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"status_action",value:a},{name:"old_status",value:s}],i=D(".awsm-jobs-delete-move-status-content-in").find(".awsm-application-md-status:checked"),t=i.val(),n=awsmProJobsAdmin.i18n.select_status;if("move_status"===a){if(0==i.length)return b.addClass("awsm-select-status-error-message").html(n).fadeIn(),!1;b.fadeOut(),D(".awsm-jobs-delete-move-status-content-in").removeClass("awsm-hide");n=D("label[for='awsm_application_md_status-"+t+"']"),e=[{name:"awsm_application_status",value:t},{name:"old_status",value:s},{name:"awsm_application_status_label",value:n.text()},{name:"action",value:"awsm_job_status_action"},{name:"nonce",value:awsmProJobsAdmin.nonce},{name:"status_action",value:a}]}D.ajax({url:awsmJobsAdmin.ajaxurl,type:"POST",data:D.param(e),beforeSend:function(){D(".awsm-jobs-delete-status-modal").addClass("awsm-jobs-loading"),D(".awsm-jobs-delete-status-modal-popup-wrapper").off("click")},dataType:"json"}).done(function(e){var t;"delete_status"===a?e.success&&(t=e.success,D(".awsm-jobs-delete-status-modal-popup-wrapper").addClass("awsm-hide"),D(".awsm-job-settings-wrap .nav-tab-wrapper").before(t),D("#application-status-"+p).remove()):(t=e.success,D(".awsm-jobs-delete-status-modal-popup-wrapper").addClass("awsm-hide"),D(".awsm-jobs-delete-move-status-content-in").addClass("awsm-hide"),D(".awsm-job-settings-wrap .nav-tab-wrapper").before(t),D("#application-status-"+p).remove()),i.prop("checked",!1),D("li #awsm_application_md_status-"+s).closest("li").remove()}).always(function(){D(".awsm-jobs-delete-status-modal").removeClass("awsm-jobs-loading")})}),D(".awsm-jobs-status-modal-dismiss").on("click",j),D(".awsm-jobs-delete-status-modal-popup-wrapper").on("click",function(e){var t=D(".awsm-jobs-delete-status-modal-content");t.is(e.target)||0!==t.has(e.target).length||j(e)}),D(document).on("click",".awsm-delete-status-notice-dismiss",function(){D(this).parents(".awsm-status-response-notice").fadeOut("slow",function(){D(this).remove()})}),D(".awsm-job-move-job-apllication").on("click",function(e){e.preventDefault(),D("#awsm-job-move-application-wrapper").slideToggle()}),D(".awsm-job-move-application-btn").on("click",function(e){D(".awsm-job-move-application-select").val()&&confirm(awsmProJobsAdmin.i18n.move_application)||e.preventDefault()})});